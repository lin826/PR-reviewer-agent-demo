--- a/django/utils/html.py
+++ b/django/utils/html.py
@@ -283,8 +283,37 @@
             middle_unescaped = html.unescape(middle)
             stripped = middle_unescaped.rstrip(TRAILING_PUNCTUATION_CHARS)
             if middle_unescaped != stripped:
-                trail = middle[len(stripped):] + trail
-                middle = middle[:len(stripped) - len(middle_unescaped)]
+                # Find where the stripped content ends in the original escaped string.
+                # We can't use simple arithmetic when HTML entities are present.
+                
+                # The number of characters that were stripped from the unescaped version
+                chars_removed_from_unescaped = len(middle_unescaped) - len(stripped)
+                
+                # Work backwards from the end of the original string to find 
+                # the position that corresponds to our desired split point
+                temp_middle = middle
+                trail_part = ''
+                
+                # Remove characters from the end until the unescaped version
+                # matches our stripped target
+                while temp_middle:
+                    temp_unescaped = html.unescape(temp_middle)
+                    if temp_unescaped == stripped:
+                        # Found the right split point
+                        break
+                    if len(temp_unescaped) < len(stripped):
+                        # We've gone too far, the previous iteration was correct
+                        # Restore the last character
+                        temp_middle = temp_middle + trail_part[0]
+                        trail_part = trail_part[1:]
+                        break
+                    
+                    # Remove one character from the end
+                    trail_part = temp_middle[-1] + trail_part
+                    temp_middle = temp_middle[:-1]
+                
+                trail = trail_part + trail
+                middle = temp_middle
                 trimmed_something = True
         return lead, middle, trail
 
