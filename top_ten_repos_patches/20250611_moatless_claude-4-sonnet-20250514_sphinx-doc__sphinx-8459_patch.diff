--- a/sphinx/ext/autodoc/typehints.py
+++ b/sphinx/ext/autodoc/typehints.py
@@ -27,7 +27,7 @@
         if callable(obj):
             annotations = app.env.temp_data.setdefault('annotations', {})
             annotation = annotations.setdefault(name, OrderedDict())
-            sig = inspect.signature(obj)
+            sig = inspect.signature(obj, type_aliases=app.config.autodoc_type_aliases)
             for param in sig.parameters.values():
                 if param.annotation is not param.empty:
                     annotation[param.name] = typing.stringify(param.annotation)

--- a/sphinx/util/inspect.py
+++ b/sphinx/util/inspect.py
@@ -505,7 +505,8 @@
 
     try:
         # Resolve annotations using ``get_type_hints()`` and type_aliases.
-        annotations = typing.get_type_hints(subject, None, type_aliases)
+        globalns = getattr(subject, '__globals__', None)
+        annotations = typing.get_type_hints(subject, globalns, type_aliases)
         for i, param in enumerate(parameters):
             if param.name in annotations:
                 parameters[i] = param.replace(annotation=annotations[param.name])
