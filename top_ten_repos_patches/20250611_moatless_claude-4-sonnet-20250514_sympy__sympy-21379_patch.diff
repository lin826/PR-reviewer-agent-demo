--- a/sympy/core/mod.py
+++ b/sympy/core/mod.py
@@ -166,10 +166,20 @@
         # XXX other possibilities?
 
         # extract gcd; any further simplification should be done by the user
-        G = gcd(p, q)
-        if G != 1:
-            p, q = [
-                gcd_terms(i/G, clear=False, fraction=False) for i in (p, q)]
+        try:
+            G = gcd(p, q)
+            if G != 1:
+                p, q = [
+                    gcd_terms(i/G, clear=False, fraction=False) for i in (p, q)]
+        except Exception as exc:
+            # If GCD computation fails (e.g., due to Piecewise expressions),
+            # skip the GCD simplification step
+            from sympy.polys.polyerrors import PolynomialError
+            if isinstance(exc, PolynomialError):
+                from sympy.core.numbers import S
+                G = S.One
+            else:
+                raise
         pwas, qwas = p, q
 
         # simplify terms
