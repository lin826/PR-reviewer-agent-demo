diff --git a/django/db/models/expressions.py b/django/db/models/expressions.py
index 3c58850..596e95b 100644
--- a/django/db/models/expressions.py
+++ b/django/db/models/expressions.py
@@ -1228,12 +1228,20 @@ class OrderBy(BaseExpression):
             return copy.as_sql(compiler, connection)
         return self.as_sql(compiler, connection)
 
+
     def get_group_by_cols(self, alias=None):
         cols = []
+        # Exclude nonâ€‘deterministic expressions such as Random() from the
+        # GROUP BY clause to avoid breaking aggregations when order_by('?')
+        # is used.
+        from django.db.models.functions import Random
         for source in self.get_source_expressions():
+            if isinstance(source, Random):
+                continue
             cols.extend(source.get_group_by_cols())
         return cols
 
+
     def reverse_ordering(self):
         self.descending = not self.descending
         if self.nulls_first or self.nulls_last:
