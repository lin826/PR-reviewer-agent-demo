diff --git a/xarray/core/common.py b/xarray/core/common.py
index 304e65c..093ca74 100644
--- a/xarray/core/common.py
+++ b/xarray/core/common.py
@@ -2021,10 +2021,11 @@ def get_chunksizes(
     variables: Iterable[Variable],
 ) -> Mapping[Any, tuple[int, ...]]:
 
+
     chunks: dict[Any, tuple[int, ...]] = {}
     for v in variables:
-        if hasattr(v.data, "chunks"):
-            for dim, c in v.chunksizes.items():
+        if v.chunks is not None:
+            for dim, c in zip(v.dims, v.chunks):
                 if dim in chunks and c != chunks[dim]:
                     raise ValueError(
                         f"Object has inconsistent chunks along dimension {dim}. "
@@ -2034,6 +2035,7 @@ def get_chunksizes(
     return Frozen(chunks)
 
 
+
 def is_np_datetime_like(dtype: DTypeLike) -> bool:
     """Check if a dtype is a subclass of the numpy datetime types"""
     return np.issubdtype(dtype, np.datetime64) or np.issubdtype(dtype, np.timedelta64)
