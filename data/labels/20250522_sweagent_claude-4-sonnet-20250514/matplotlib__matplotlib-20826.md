GT is probably more idiomatic due to actually reverting a regression between releases (see problem statement)

Agent submission uses hasattr and also restores rather than preventing them from being removed in the first place.