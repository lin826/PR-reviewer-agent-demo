diff --git a/lib/matplotlib/colors.py b/lib/matplotlib/colors.py
index 2d3072da04..4d1f9fd16d 100644
--- a/lib/matplotlib/colors.py
+++ b/lib/matplotlib/colors.py
@@ -725,6 +725,16 @@ class Colormap:
                 # Avoid converting large positive values to negative integers.
                 np.clip(xa, -1, self.N, out=xa)
                 xa = xa.astype(int)
+        # For integer dtypes, check if the array can safely store our sentinel values
+        # and promote it to a larger dtype if needed to avoid NumPy deprecation warnings
+        if xa.dtype.kind in 'iu':
+            # Check if the dtype can represent all our sentinel values
+            info = np.iinfo(xa.dtype)
+            # We need to store -1, self.N, self.N+1, and self.N+2
+            if info.min > -1 or info.max < self._i_bad:
+                # If not, promote to np.intp (platform-specific signed integer type)
+                xa = xa.astype(np.intp, copy=False)
+                
         # Set the over-range indices before the under-range;
         # otherwise the under-range values get converted to over-range.
         xa[xa > self.N - 1] = self._i_over
