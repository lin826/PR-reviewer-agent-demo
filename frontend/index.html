<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SWE Quality - 3-Panel Viewer</title>
    <link rel="stylesheet" href="/src/styles/main.css" />
  </head>
  <body>
    <div id="app">
      <!-- Header with selectors -->
      <header class="header">
        <div class="header-content">
          <h1>SWE Quality Viewer</h1>
          <div class="selectors">
            <select id="agent-selector" disabled>
              <option value="">Select Agent...</option>
            </select>
            <select id="repository-selector" disabled>
              <option value="">Select Repository...</option>
            </select>
            <select id="problem-selector" disabled>
              <option value="">Select Problem...</option>
            </select>
            <a id="github-link" href="#" target="_blank" style="display: none">
              View on GitHub
            </a>
          </div>
        </div>
      </header>

      <!-- Main 3-panel layout -->
      <main class="main-content">
        <div class="panel-container">
          <!-- Ground Truth Panel -->
          <div class="panel" id="ground-truth-panel">
            <div class="panel-header">
              <h2>Ground Truth</h2>
            </div>
            <div class="panel-content">
              <div class="patch-viewer" id="ground-truth-content">
                <div class="placeholder">
                  Select a problem to view ground truth patch
                </div>
              </div>
            </div>
          </div>

          <!-- Agent Submission Panel -->
          <div class="panel" id="agent-submission-panel">
            <div class="panel-header">
              <h2>Agent Submission</h2>
            </div>
            <div class="panel-content">
              <div class="patch-viewer" id="agent-submission-content">
                <div class="placeholder">
                  Select an agent and problem to view submission
                </div>
              </div>
            </div>
          </div>

          <!-- User Comments Panel -->
          <div class="panel" id="user-comments-panel">
            <div class="panel-header">
              <h2>User Comments</h2>
              <div class="comment-actions">
                <button id="save-comment" disabled>Save</button>
              </div>
            </div>
            <div class="panel-content">
              <div class="comment-editor">
                <textarea
                  id="comment-textarea"
                  placeholder="Select a problem and agent to add comments..."
                  disabled
                ></textarea>
                <div
                  class="comment-preview"
                  id="comment-preview"
                  style="display: none"
                >
                  <!-- Markdown preview will go here -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>

      <!-- Loading indicator -->
      <div id="loading" class="loading" style="display: none">
        <div class="spinner"></div>
        <span>Loading...</span>
      </div>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
